WEBVTT

1
00:00:00.520 --> 00:00:04.620
上一节我讲了一些一维汇总

2
00:00:04.620 --> 00:00:06.650
在这一节我想说说二维汇总

3
00:00:06.650 --> 00:00:10.350
不仅包括散点图 (scatterplot)

4
00:00:10.350 --> 00:00:12.250
也包括把许多一维图组合到一起

5
00:00:12.250 --> 00:00:15.080
来看二维数据

6
00:00:15.080 --> 00:00:17.350
在这方面 Lattice 和 ggplot2 做得很好

7
00:00:19.190 --> 00:00:22.742
下面我会展示散点图、平滑散点图

8
00:00:22.742 --> 00:00:26.430
然后展示多于二维的图

9
00:00:26.430 --> 00:00:28.370
你需要在展示数据的方式上

10
00:00:28.370 --> 00:00:30.310
变得更聪明一点

11
00:00:30.310 --> 00:00:33.800
因为有一种可能是真 3D 图  

12
00:00:33.800 --> 00:00:36.850
你可能要戴上一副眼镜来看这些图

13
00:00:36.850 --> 00:00:40.900
通常它们不是很有用 但是我也看到过

14
00:00:40.900 --> 00:00:42.760
你可以画出可旋转的图 (spinning plot)

15
00:00:42.760 --> 00:00:44.760
它可以使你在三维空间中旋转数据

16
00:00:44.760 --> 00:00:46.400
有时这会很有用

17
00:00:46.400 --> 00:00:48.908
但通常情况下最有用的就是

18
00:00:48.908 --> 00:00:51.872
将二维图以特殊的方式排列或组合起来

19
00:00:51.872 --> 00:00:53.525
将二维图以特殊的方式排列或组合起来

20
00:00:53.525 --> 00:00:56.053
这样你就可以看第三个甚至第四个变量

21
00:00:56.053 --> 00:00:59.430
我们也会稍微讲一下此类方法

22
00:00:59.430 --> 00:01:01.970
你可以用颜色、大小和绘图符号 (plotting symbol) 的形状等

23
00:01:01.970 --> 00:01:04.990
来增加数据的维度

24
00:01:06.690 --> 00:01:09.830
下面是考察二维数据的一种方法

25
00:01:09.830 --> 00:01:13.200
其中一个维度是东西部 它是一个分类变量

26
00:01:13.200 --> 00:01:15.930
另一个维度是 pm2.5 变量

27
00:01:15.930 --> 00:01:17.274
你可以看到

28
00:01:17.274 --> 00:01:20.520
我画了两个箱线图 一个代表东部一个代表西部

29
00:01:20.520 --> 00:01:23.300
而东部的 pm2.5 平均值要比西部高很多

30
00:01:23.300 --> 00:01:26.260
而东部的 pm2.5 平均值要比西部高很多

31
00:01:27.340 --> 00:01:31.630
这就是对这两个维度做的一个很好的汇总

32
00:01:31.630 --> 00:01:34.930
你可以看到 西部的 pm2.5 平均值要稍微低一些

33
00:01:34.930 --> 00:01:37.660
但是所有的极值 (extreme value)

34
00:01:37.660 --> 00:01:40.590
可以说都分布在美国的西部

35
00:01:40.590 --> 00:01:42.360
所以西部的平均值比较低

36
00:01:42.360 --> 00:01:45.040
但是更加分散 这挺有意思的

37
00:01:47.450 --> 00:01:49.355
你也可以用直方图做一个类似的图形

38
00:01:49.355 --> 00:01:51.640
我已经画了一个直方图

39
00:01:51.640 --> 00:01:53.930
上面那个代表东部县

40
00:01:53.930 --> 00:01:55.660
下面那个代表西部县

41
00:01:55.660 --> 00:01:57.790
你可以看到同样的基础特征

42
00:01:57.790 --> 00:01:59.980
西部县平均值比较低

43
00:01:59.980 --> 00:02:02.075
但是有更多较高的极值

44
00:02:02.075 --> 00:02:05.930
而东部县平均值比较高

45
00:02:05.930 --> 00:02:09.809
但是它们没有很高的极值

46
00:02:12.530 --> 00:02:15.220
很明显 最容易做的事情

47
00:02:15.220 --> 00:02:17.420
也是最直观的事情 就是做散点图

48
00:02:17.420 --> 00:02:22.080
这里我画了一个县里监测仪的纬度及 pm2.5 值的散点图

49
00:02:22.080 --> 00:02:26.080
这样我就可以看出是否存在南北趋势

50
00:02:26.080 --> 00:02:28.229
随着纬度增加 也就是越来越靠北

51
00:02:29.380 --> 00:02:31.530
你可以看到

52
00:02:31.530 --> 00:02:34.968
这里没有很明显的南北趋势

53
00:02:34.968 --> 00:02:38.770
看起来

54
00:02:38.770 --> 00:02:41.660
pm2.5 在中纬度地区更高

55
00:02:41.660 --> 00:02:45.270
而在高纬度和低纬度并没有那么高

56
00:02:45.270 --> 00:02:47.990
我在12这个地方画了一条水平的虚线

57
00:02:47.990 --> 00:02:51.840
这样你就可以大致看出国家环境空气质量标准在哪里

58
00:02:51.840 --> 00:02:53.420
可以看到很多点都在这条线上面

59
00:02:53.420 --> 00:02:56.740
严格来讲它们就是不符合标准的

60
00:02:58.060 --> 00:03:01.050
你可以利用颜色来增加另一个维度

61
00:03:01.050 --> 00:03:04.460
例如 如果你记得在数据集中有纬度、经度和东西部变量

62
00:03:04.460 --> 00:03:06.510
例如 如果你记得在数据集中有纬度、经度和东西部变量

63
00:03:06.510 --> 00:03:11.790
那么我就把纬度设为 X 轴 pm2.5 设为 Y 轴

64
00:03:11.790 --> 00:03:13.320
然后我加入了颜色

65
00:03:13.320 --> 00:03:17.397
用黑色和红色的圆圈代表东西部变量

66
00:03:17.397 --> 00:03:20.365
黑色圆圈代表东部的县

67
00:03:20.365 --> 00:03:23.277
黑色圆圈代表东部的县

68
00:03:23.277 --> 00:03:25.909
红色圆圈代表西部的县

69
00:03:25.909 --> 00:03:29.160
现在我们可以看到3个不同的变量

70
00:03:30.200 --> 00:03:34.590
另一种看这3个变量的方法就是画出两张图

71
00:03:34.590 --> 00:03:36.490
现在我画了一组图

72
00:03:36.490 --> 00:03:38.730
左边这个代表西部所有的县

73
00:03:38.730 --> 00:03:41.610
左边这个代表西部所有的县

74
00:03:41.610 --> 00:03:43.978
右边的这个代表东部所有的县

75
00:03:43.978 --> 00:03:47.480
我将横坐标和纵坐标分别设成纬度和 pm2.5

76
00:03:47.480 --> 00:03:50.000
你可以看到在两张图中

77
00:03:50.000 --> 00:03:55.510
污染更严重的县都分布在中纬度地区

78
00:03:55.510 --> 00:03:55.820
污染更严重的县都分布在中纬度地区

79
00:03:55.820 --> 00:03:57.770
而南部和北部城市的污染水平普遍较低

80
00:03:57.770 --> 00:04:00.640
而南部和北部城市的污染水平普遍较低

81
00:04:00.640 --> 00:04:02.130
在美国的东部和西部都是这样

82
00:04:02.130 --> 00:04:04.090
这挺有意思的

83
00:04:06.220 --> 00:04:08.220
现在让我们快速地总结一下

84
00:04:08.220 --> 00:04:11.280
利用 R 绘制数据的一维和二维图

85
00:04:11.280 --> 00:04:14.230
还有利用颜色和图表组合

86
00:04:14.230 --> 00:04:18.010
做出比二维图更好的三维图

87
00:04:18.010 --> 00:04:20.570
首先 这些探索性图表通常都是 “快速而粗略” 的

88
00:04:20.570 --> 00:04:22.960
注意 我没有在调整坐标轴与设置标注上花任何时间

89
00:04:22.960 --> 00:04:25.406
注意 我没有在调整坐标轴与设置标注上花任何时间

90
00:04:25.406 --> 00:04:27.290
大多数时候

91
00:04:27.290 --> 00:04:29.990
我仅仅是用 R 中的预设值

92
00:04:29.990 --> 00:04:31.530
但是探索性图表的一个优点就是

93
00:04:31.530 --> 00:04:34.350
可以让你汇总数据

94
00:04:34.350 --> 00:04:37.470
并且突出数据中一些可能会感兴趣的广泛特点

95
00:04:37.470 --> 00:04:39.730
你可以探索一些基本的问题和假设

96
00:04:39.730 --> 00:04:42.460
记住我们现在关心的基本问题是

97
00:04:42.460 --> 00:04:45.670
有没有哪个城市不符合标准？

98
00:04:45.670 --> 00:04:49.940
这些图也为下一步研究 如更多的详细分析和模型拟合

99
00:04:49.940 --> 00:04:53.500
提供了有用的模型策略

100
00:04:55.350 --> 00:04:56.840
然后这是一些资源

101
00:04:56.840 --> 00:04:59.240
这是一个很棒的网站 叫做 R Graph Gallery

102
00:04:59.240 --> 00:05:04.180
网站中有很多用 R 绘制图表和图形的例子

103
00:05:04.180 --> 00:05:07.224
R Bloggers 这一网站经常会推送很多

104
00:05:07.224 --> 00:05:10.310
人们做好后贴在他们博客上的图

105
00:05:10.310 --> 00:05:12.300
看一看这些会让你对你所能做的有个大体了解
【教育无边界字幕组】迈迈的手套 | 养不肥的猪 | LennyBear